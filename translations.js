const translations = {
  es: {
    nav: ["Bio", "SurdelSur", "Música y Videos", "Docencia", "Galería", "Prensa", "Contacto"],
    hero: {
      subtitle: "Violinista y compositor argentino, formador de ensambles de tango y música sudamericana",
      description: `Guillermo Rubino es un violinista y director de orquesta argentino, reconocido por su trabajo dentro del tango tradicional y contemporáneo. Su estilo combina técnica, expresividad y una mirada joven sobre la música argentina y sudamericana, integrando tradición e innovación.`
    },
    sections: {
      bio: {
        title: "Biografía",
        paragraphs: [
          `Guillermo Rubino (La Plata, 1979) es un violinista y director argentino especializado en tango y música latinoamericana. Es una figura destacada del tango contemporáneo por su capacidad de unir la tradición con las estéticas actuales, integrando técnica, expresividad, arreglo e improvisación.`,
          `Ganador del Latin Grammy 2024 como integrante del Diego Schissi Quinteto, fue también primer violín de la Orquesta Estable del Teatro Argentino de La Plata y de la Orquesta El Arranque. Desde 2009 se desempeña como instructor de cuerdas de la Orquesta Escuela Emilio Balcarce, uno de los programas pedagógicos más influyentes del tango.`,
          `A lo largo de su formación, estudió con maestros fundamentales del violín argentino como José Bondar, Pablo Saraví y Szymsia Bajour, quienes marcaron su enfoque interpretativo y su desarrollo dentro de las cuerdas del tango y la música académica.`,
          `Es fundador y director del SurdelSur Ensamble, con el que grabó varios discos nominados a los Premios Gardel y se presentó en escenarios como el Teatro Colón, el CCK, la Usina del Arte y el Teatro San Martín. Publicó el libro “12 solos famosos de violín en el tango”, un trabajo de referencia para instrumentistas y estudiantes.`,
          `Como docente internacional dicta workshops, masterclasses y programas académicos en Argentina, Europa y Estados Unidos, y ha ofrecido conferencias en instituciones como la University of Pennsylvania y la Central High School of Philadelphia, abordando tango tradicional, tango contemporáneo y música argentina actual.`
        ]
      },
      surdelsur: {
        title: "SurdelSur Ensamble",
        paragraphs: [
          `SurdelSur Ensamble es el proyecto creado y dirigido por Guillermo Rubino, dedicado a interpretar obras originales y arreglos contemporáneos para cuerdas de compositores argentinos. La propuesta combina tango, música contemporánea y folklore argentino con un sonido joven y fresco.`,
          `El ensamble se ha presentado en escenarios como el Teatro Colón, Teatro San Martín, Usina del Arte y el CCK, y cuenta con tres discos, uno de ellos nominado a los Premios Carlos Gardel.`
        ],
        videoCaptions: [`"Cielo" (Guillermo Rubino) en el Teatro Colón`, `"Búsqueda" (Chango Spasiuk)`]
      },
      musicVideos: {
        title: "Música & Videos",
        featuredHeading: "Videos Destacados",
        spotifyHeading: "Discografía en Spotify",
        videoCaptions: [
          `Todo Corazón - Orquesta Escuela Emilio Balcarce`,
          `Taquito Militar - Diego Schissi Quinteto`,
          `Estancia La Isabel - Nini Flores Quinteto`,
          `Panambi Jovhé - Aca Seca Trio & Diego Schissi Quinteto`,
          `Capturar al Fantasma - Paraíso a la Miseria`,
          `La Cumparsita - Manuel Quiroga y Guillermo Rubino`
        ]
      },
      workshops: {
        title: "Workshops y Docencia internacional",
        paragraphs: [
          `Workshop internacional “Tango for Strings, from the Tradition to the Present”, impartido en instituciones como la University of Pennsylvania, Central High School de Filadelfia y su reciente edición en Berlín.`,
          `Este curso ofrece una inmersión completa en el lenguaje del tango para cuerdas: articulaciones, síncopas, fraseo, swing, colores de sonido, técnica de arco e interpretación estilística. Combina talleres, ensayos de ensamble, conferencias y un concierto final.`,
          `Además desarrolla docencia internacional con clases, seminarios y programas formativos para músicos, ensambles y orquestas.`
        ],
        upcomingHeading: `PRÓXIMAS EDICIONES`,
        cta: `Contactar para más información`
      },
      gallery: { title: `Galería` },
      press: {
        title: `Prensa`,
        quotes: [
          `“El SurdelSur Ensamble logró un equilibrio notable entre lo popular y lo académico, ofreciendo un repertorio diverso y profundamente expresivo.”`,
          `“En Alquimia, cada gesto musical destila años de oficio: un tango que respira tradición y, a la vez, se reinventa en cada frase.”<br><br>“La participación de Lavallén y Cabarcos otorga a Alquimia una impronta artística de enorme peso, reafirmando el compromiso del ensamble con la excelencia interpretativa”`,
          `“Con alta calidad interpretativa, SurdelSur Ensamble logra una síntesis magistral y equilibrada al fusionar obras populares y académicas con claridad y sensibilidad.”`
        ]
      }
    },
    footer: {
      contactTitle: `Contacto`,
      webdev: `Desarrollo web: Santiago Segret`,
      copyright: `© 2025 Guillermo Rubino`
    },
    misc: { mobileMenuLabel: `Abrir menú` }
  },
  en: {
    nav: ["Bio", "SurdelSur", "Music & Videos", "Teaching", "Gallery", "Press", "Contact"],
    hero: {
      subtitle: "Argentine violinist and composer, creator of tango and South American music ensembles",
      description: `Guillermo Rubino is an Argentine violinist and conductor, recognized for his work within traditional and contemporary tango. His style combines technique, expressiveness, and a young perspective on Argentine and South American music, integrating tradition and innovation.`
    },
    sections: {
      bio: {
        title: "Biography",
        paragraphs: [
          `Guillermo Rubino (La Plata, 1979) is an Argentine violinist and conductor specializing in tango and Latin American music. He is a prominent figure in contemporary tango for his ability to unite tradition with current aesthetics, integrating technique, expressiveness, arrangement, and improvisation.`,
          `Winner of the 2024 Latin Grammy as a member of the Diego Schissi Quinteto, he was also first violin of the Stable Orchestra of the Teatro Argentino de La Plata and the Orquesta El Arranque. Since 2009, he has served as strings instructor for the Orquesta Escuela Emilio Balcarce, one of the most influential pedagogical programs in tango.`,
          `Throughout his training, he studied with fundamental masters of the Argentine violin such as José Bondar, Pablo Saraví, and Szymsia Bajour, who marked his interpretive approach and development within tango strings and academic music.`,
          `He is the founder and director of the SurdelSur Ensamble, with which he recorded several albums nominated for the Gardel Awards and performed on stages such as the Teatro Colón, the CCK, the Usina del Arte, and the Teatro San Martín. He published the book "12 Famous Violin Solos in Tango", a reference work for instrumentalists and students.`,
          `As an international educator, he gives workshops, masterclasses, and academic programs in Argentina, Europe, and the United States, and has offered lectures at institutions such as the University of Pennsylvania and the Central High School of Philadelphia, addressing traditional tango, contemporary tango, and current Argentine music.`
        ]
      },
      surdelsur: {
        title: "SurdelSur Ensamble",
        paragraphs: [
          `SurdelSur Ensamble is the project created and directed by Guillermo Rubino, dedicated to interpreting original works and contemporary arrangements for strings by Argentine composers. The proposal combines tango, contemporary music, and Argentine folklore with a young and fresh sound.`,
          `The ensemble has performed on stages such as the Teatro Colón, Teatro San Martín, Usina del Arte, and the CCK, and has three albums, one of them nominated for the Carlos Gardel Awards.`
        ],
        videoCaptions: [`"Cielo" ("Sky") (Guillermo Rubino) at Teatro Colón`, `"Búsqueda" ("Search") (Chango Spasiuk)`]
      },
      musicVideos: {
        title: "Music & Videos",
        featuredHeading: "Featured Videos",
        spotifyHeading: "Discography on Spotify",
        videoCaptions: [
          `Todo Corazón ("Whole Heart") - Orquesta Escuela Emilio Balcarce`,
          `Taquito Militar ("Little Military Bite") - Diego Schissi Quintet`,
          `Estancia La Isabel ("La Isabel Ranch") - Nini Flores Quintet`,
          `Panambi Jovhé - Aca Seca Trio & Diego Schissi Quintet`,
          `Capturar al Fantasma ("Capture the Ghost") - Paraíso a la Miseria`,
          `La Cumparsita - Manuel Quiroga and Guillermo Rubino`
        ]
      },
      workshops: {
        title: "Workshops & International Teaching",
        paragraphs: [
          `International workshop "Tango for Strings, from the Tradition to the Present", taught at institutions such as the University of Pennsylvania, Central High School of Philadelphia, and its recent edition in Berlin.`,
          `This course offers a complete immersion in the language of tango for strings: articulations, syncopations, phrasing, swing, sound colors, bow technique, and stylistic interpretation. It combines workshops, ensemble rehearsals, lectures, and a final concert.`,
          `He also develops international teaching with classes, seminars, and training programs for musicians, ensembles, and orchestras.`
        ],
        upcomingHeading: `UPCOMING EDITIONS`,
        cta: `Contact for more information`
      },
      gallery: {
        title: `Gallery`
      },
      press: {
        title: `Press`,
        quotes: [
          `“SurdelSur Ensamble achieved a remarkable balance between popular and academic elements, offering a diverse and deeply expressive repertoire.”`,
          `“In Alquimia, every musical gesture distills years of craft: a tango that breathes tradition and, at the same time, reinvents itself in every phrase.”<br><br>“The participation of Lavallén and Cabarcos gives Alquimia a powerful artistic imprint, reaffirming the ensemble's commitment to interpretive excellence.”`,
          `“With high interpretive quality, SurdelSur Ensamble achieves a masterful and balanced synthesis by merging popular and academic works with clarity and sensitivity.”`
        ]
      }
    },
    footer: {
      contactTitle: `Contact`,
      webdev: `Web development: Santiago Segret`,
      copyright: `© 2025 Guillermo Rubino`
    },
    misc: {
      mobileMenuLabel: `Open menu`
    }
  }
};

function applyTranslations(lang) {
  if (!translations[lang]) return;
  const t = translations[lang];

  // Nav
  const navLinks = document.querySelectorAll('.nav-links li a');
  navLinks.forEach((el, i) => { if (t.nav[i]) el.textContent = t.nav[i]; });

  // lang switch active class
  document.querySelectorAll('.lang-link').forEach(a => {
    a.classList.toggle('active', a.dataset && a.dataset.lang === lang);
  });

  // Hero
  const hs = document.querySelector('.hero-subtitle'); if (hs) hs.textContent = t.hero.subtitle;
  const hd = document.querySelector('.hero-description'); if (hd) hd.textContent = t.hero.description;

  // Sections
  const setSection = (id, data) => {
    const sec = document.querySelector('#' + id);
    if (!sec) return;
    const h3 = sec.querySelector('.section-title'); if (h3 && data.title) h3.textContent = data.title;
    if (data.paragraphs) {
      const paras = sec.querySelectorAll('.bio-text p');
      paras.forEach((p, i) => { if (data.paragraphs[i]) p.textContent = data.paragraphs[i]; });
    }
  };

  setSection('bio', t.sections.bio);
  setSection('surdelsur', { title: t.sections.surdelsur.title, paragraphs: t.sections.surdelsur.paragraphs });

  // SurdelSur video captions
  const sCapt = document.querySelectorAll('#surdelsur .video-caption');
  sCapt.forEach((el, i) => { if (t.sections.surdelsur.videoCaptions[i]) el.innerHTML = t.sections.surdelsur.videoCaptions[i]; });

  // Music & Videos
  const mv = document.querySelector('#music-videos');
  if (mv) {
    const h4s = mv.querySelectorAll('h4');
    if (h4s[0]) h4s[0].textContent = t.sections.musicVideos.featuredHeading;
    if (h4s[1]) h4s[1].textContent = t.sections.musicVideos.spotifyHeading;

    const caps = mv.querySelectorAll('.video-caption');
    caps.forEach((el, i) => { if (t.sections.musicVideos.videoCaptions[i]) el.innerHTML = t.sections.musicVideos.videoCaptions[i]; });
  }

  // Workshops
  const wk = document.querySelector('#workshops');
  if (wk) {
    const h3 = wk.querySelector('.section-title'); if (h3) h3.textContent = t.sections.workshops.title;
    const paras = wk.querySelectorAll('.bio-text p');
    paras.forEach((p, i) => { if (t.sections.workshops.paragraphs[i]) p.textContent = t.sections.workshops.paragraphs[i]; });
    const up = wk.querySelector('.upcoming-events') || wk;
    const upHeading = wk.querySelector('h4[style*="color: var(--accent)"]'); if (upHeading) upHeading.textContent = t.sections.workshops.upcomingHeading;
    const cta = wk.querySelector('.cta-button'); if (cta) cta.textContent = t.sections.workshops.cta;
  }

  // Gallery
  const gal = document.querySelector('#gallery'); if (gal) { const h3 = gal.querySelector('.section-title'); if (h3) h3.textContent = t.sections.gallery.title; }

  // Press
  const pr = document.querySelector('#prensa');
  if (pr) {
    const h3 = pr.querySelector('.section-title'); if (h3) h3.textContent = t.sections.press.title;
    const captions = pr.querySelectorAll('.prensa-caption');
    captions.forEach((el, i) => { if (t.sections.press.quotes[i]) el.innerHTML = t.sections.press.quotes[i]; });
  }

  // Footer
  const fct = document.querySelector('#contact .section-title'); if (fct) fct.textContent = t.footer.contactTitle;
  const webdev = document.querySelector('#contact p[style]'); if (webdev) webdev.textContent = t.footer.webdev;
  const cpr = document.querySelector('#contact .copyright'); if (cpr) cpr.textContent = t.footer.copyright;

  // Misc
  const mobileBtn = document.querySelector('.mobile-menu-toggle'); if (mobileBtn) mobileBtn.setAttribute('aria-label', t.misc.mobileMenuLabel);
}

function switchLang(lang) {
  applyTranslations(lang);
  // Optional: set html lang attribute
  document.documentElement.lang = (lang === 'en') ? 'en' : 'es';
}

// On load, if url has ?lang=en then apply
window.addEventListener('DOMContentLoaded', () => {
  const params = new URLSearchParams(location.search);
  const lang = params.get('lang') || 'es';
  switchLang(lang);

  // attach lang buttons
  document.querySelectorAll('.lang-link').forEach(a => {
    a.addEventListener('click', (e) => { e.preventDefault(); const l = a.dataset.lang || (a.textContent.trim().toLowerCase() === 'en' ? 'en' : 'es'); switchLang(l); history.replaceState(null, '', '?lang=' + l); });
  });
});
